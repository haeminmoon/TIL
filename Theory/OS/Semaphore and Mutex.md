#Semaphore and Mutex

**Process또는 Thread들 끼리 통신시에 shared memory를 쓰는경우에 두개 이상의 p or t 가 write를 하는데에 문제**

그래서 이러한 문제를 해결하기 위해,

	- 하나의 p or t만이 resource에 접근하여 write를 할 수 있도록 제어
	- Mutex는 Thread에서 사용
	- Semaphore는 process에서 사용


##Mutex

- Critical Section을 가진 스레드들의 Runnig Time이 서로 겹치지 않게 각각 단독으로 실행되게 하는 기술
- Mutex는 화장실에 들어가기 위한 열쇠. - 화장실에 들어갈 수 있는 열쇠를 한 사람이 갖고 있다면 한번에 그 한 사람만 들어 갈 수 있다.

##Semaphore

- 리소스의 상태를 나타내는 간단한 카운터 , 비교적 긴 시간을 확보하는 리소스에 대해 이용
- 세마포어는 운영체제 또는 커널의 한 지정된 저장장치 내의 값. 프로세스는 이를 확인하고 변경가능.
- 세마포어는 빈 화장실 열쇠의 갯수

##Semaphore와 Mutex 비교

- 세마포어는 뮤텍스가 될 수 있지만 뮤텍스는 세마포어가 될 수 없다. (mutex 는 상태가 0, 1 두 개 뿐인 binary semaphore 이다)

- 세마포어는 소유할 수 없는 반면 뮤텍스는 소유가 가능하며 소유주가 이에 대한 책임을 진다. (mutex 의 경우 상태가 두개 뿐인 lock 이므로 lock 을 ‘가질’ 수 있다.)

- 뮤텍스의 경우 뮤텍스를 소유하고 있는 쓰레드가 이 뮤텍스를 해제할 수 있다. 하지만 세마포어의 경우 이러한 세마포어를 소유하지 않는 스레드가 세마포어를 해제할 수 있다.

- 세마포어는 시스템 범위에 걸쳐있고 파일시스템상의 파일 형태로 존재한다. 반면 뮤텍스는 프로세스 범위를 가지며 프로세스가 종료될 때 자동으로 clean up된다.

- ★★★ 가장 큰 차이점은 관리하는 동기화 대상이 갯수이다. 뮤텍스는 동기화 대상이 오직 하나뿐일 때, 세마포어는 동기화 대상이 하나 이상일 때 사용한다.